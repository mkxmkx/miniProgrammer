# Java虚拟机——垃圾收集算法
### 1、标记-清除算法
“标记”和“清除”两个阶段：
首先标记出所有需要回收的对象，在标记完成后统一回收所有被标记的对象。
缺点：1、效率不高。标记和清除两个阶段的效率都不高。2、空间问题，标记清除后产生大量不连续的内存碎片。导致以后需要分配大对象时，无法找到足够的连续内存空间，而不得不引发一次垃圾收集 动作。
### 2、复制算法
为解决效率问题。
将可用内存按容量分为大小相等的两块，每次只使用一块。当一块内存使用完之后，就将活着的对象复制到另一块内存上。把已使用过的内存清理掉。
这样每次只对半个内存区进行回收。实现简单，运行高效。代价是将内存缩小到原来的一半。
这种方法比较适合新生代，大部分对象都死亡，活着的对象比较少。
### 3、标记-整理算法
首先标记出所有需要回收的对象，标记完成后让所有活着的对象都向一端移动，然后直接清理掉端边界以外的内存。
### 4、分代收集算法
将java堆分为新生代和老年代。根据对象存活的不同周期区分的。、
新生代中，每次垃圾收集都有大量对象死去，少量存活。选用复制算法，只需要付出少量复制代价就可完成收集。
老年代中，对象存活率高，没有额外空间进行分配担保，使用标记-清理算法或标记-整理算法。